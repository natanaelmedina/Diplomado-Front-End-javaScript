/*
 * FilePondPluginFileValidateSize 2.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.FilePondPluginFileValidateSize=i()}(this,function(){"use strict";var e=function(e){var i=e.addFilter,l=e.utils,n=l.Type,a=l.replaceInString,u=l.toNaturalFileSize;return i("ALLOW_HOPPER_ITEM",function(e,i){var l=i.query;if(!l("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var n=l("GET_MAX_FILE_SIZE");return!(null!==n&&e.size>n)}),i("LOAD_FILE",function(t,e){var E=e.query;return new Promise(function(e,i){if(E("GET_ALLOW_FILE_SIZE_VALIDATION")){var l=E("GET_MAX_FILE_SIZE");if(null!==l&&t.size>l)i({status:{main:E("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:a(E("GET_LABEL_MAX_FILE_SIZE"),{filesize:u(l)})}});else{var n=E("GET_MAX_TOTAL_FILE_SIZE");if(null!==n)if(n<E("GET_ACTIVE_ITEMS").reduce(function(e,i){return e+i.fileSize},0))return void i({status:{main:E("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:a(E("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:u(n)})}});e(t)}}else e(t)})}),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});